---
import Layout from "../layouts/Layout.astro";
import NavBar from "../components/NavBar.astro";

const BUILD_SHA = import.meta.env.PUBLIC_BUILD_SHA ?? "";
const BUILD_SHORT = BUILD_SHA ? BUILD_SHA.slice(0, 7) : "dev";
const ONION_REPO = "http://yexg75vnfxe2q6yygn7csmqdx5mtwmvhrqpboopisvjqz7haras3skid.onion/anonomi/anonomi.github.io";
const CLEARNET_REPO = "https://github.com/anonomi-org/anonomi.github.io";
const COMMIT_URL = BUILD_SHA ? `${ONION_REPO}/commit/${BUILD_SHA}` : ONION_REPO;
const CLEARNET_COMMIT_URL = BUILD_SHA ? `${CLEARNET_REPO}/commit/${BUILD_SHA}` : CLEARNET_REPO;
---

<Layout
  title="Anonomi"
  description="Decentralized messaging for high-threat environments. Online over Tor or fully offline."
>
  <NavBar />

  <main class="mx-auto max-w-6xl px-6 py-16">
    <!-- HERO -->
    <section
      class="relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 sm:p-12"
    >
      <div
        class="absolute inset-0 -z-10 bg-gradient-to-b from-white/10 via-transparent to-transparent"
      >
      </div>

      <div
        class="flex flex-col gap-10 lg:flex-row lg:items-center lg:justify-between"
      >
        <div class="max-w-2xl">
          <p class="text-xs font-semibold tracking-widest text-zinc-400">
            NO SERVERS • TOR • OFFLINE
          </p>

          <h1
            class="mt-6 text-5xl font-semibold tracking-tight sm:text-6xl lg:text-7xl"
          >
            Messaging built for hostile conditions.
          </h1>

          <p class="mt-4 text-zinc-300">
            Anonomi is an open source decentralized communication tool designed
            for high-threat environments. It works online over Tor, or
            completely offline over Wi-Fi, Bluetooth, and external storage.
          </p>

          <div class="mt-8 flex flex-wrap gap-3">
            <a
              href="#download"
              class="rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/10 hover:bg-white/15"
            >
              Download
            </a>
            <a
              href="#features"
              class="rounded-xl px-4 py-2 text-sm font-medium text-zinc-100 ring-1 ring-white/15 hover:bg-white/5"
            >
              Explore features
            </a>
            <a
              href="/#manifesto"
              class="rounded-xl px-4 py-2 text-sm font-medium text-zinc-300 ring-1 ring-white/10 hover:bg-white/5"
            >
              Read manifesto
            </a>
          </div>

          <p class="mt-6 text-xs text-zinc-500">
            Android-only. Built to reduce metadata exposure — not to promise
            magic anonymity.
          </p>
        </div>

        <!-- HERO SCREENSHOT -->
        <div class="w-full max-w-lg flex justify-center">
          <img
            src="/screenshots/chat-intro-accepted.png"
            alt="Anonomi encrypted messaging interface"
            loading="lazy"
            class="max-h-[520px] w-auto rounded-2xl border border-white/10 shadow-2xl"
          />
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="mt-24 scroll-mt-24">
      <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">
        The ultimate privacy tool
      </h2>

      <div class="mt-4 h-[2px] w-20 rounded-full bg-[#6d4aff]"></div>

      <p class="mt-4 max-w-3xl text-base text-zinc-400 sm:text-lg">
        Anonomi Messenger is built around three pillars: secure messaging,
        private payments, and offline maps.
      </p>

      <!-- Subsection selectors (pillars, not tabs) -->
      <div class="mt-16 grid gap-10 sm:grid-cols-3">
        <!-- Messaging -->
        <a href="#tab-messaging" class="group block">
          <div class="flex items-center gap-3">
            <!-- Icon -->
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M8 10h8m-8 4h5m9-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>

            <h3 class="text-2xl font-semibold tracking-tight sm:text-3xl">
              Messaging
            </h3>
          </div>

          <p
            class="mt-3 max-w-sm text-base text-zinc-400 group-hover:text-zinc-300"
          >
            Decentralized communication designed for hostile networks.
          </p>

          <div class="mt-4 h-px w-16 bg-white/20 group-hover:bg-white/40"></div>
        </a>

        <!-- Payments -->
        <a href="#tab-payments" class="group block">
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                viewBox="0 0 16 16"
                fill="currentColor"
                aria-hidden="true"
              >
                <path
                  d="M11.28774193548387 12.046451612903226h3.426838709677419
                  C13.34258064516129 14.31941935483871 10.848322580645162 15.84 8 15.84
                  S2.6574193548387095 14.31941935483871 1.2854193548387096 12.046451612903226
                  H4.71225806451613V8.006322580645161L8 11.319354838709677
                  11.28774193548387 8v4.046451612903225ZM2.9419354838709677 10.529032258064515
                  V3.9535483870967743l5.039096774193548 5.039096774193548
                  L13.058064516129033 3.9535483870967743V10.529032258064515
                  h2.3646451612903228c0.2687096774193548 -0.7934838709677419
                  0.41729032258064513 -1.6438709677419354
                  0.41729032258064513 -2.5290322580645164
                  C15.84 3.669032258064516 12.330967741935483 0.16 8 0.16
                  S0.16 3.669032258064516 0.16 8
                  c0 0.8851612903225806 0.14541935483870969 1.735548387096774
                  0.41729032258064513 2.5290322580645164H2.9419354838709677Z"
                ></path>
              </svg>
            </div>

            <h3 class="text-2xl font-semibold tracking-tight sm:text-3xl">
              Payments
            </h3>
          </div>

          <p
            class="mt-3 max-w-sm text-base text-zinc-400 group-hover:text-zinc-300"
          >
            Private Monero payment requests without metadata leakage.
          </p>

          <div class="mt-4 h-px w-16 bg-white/20 group-hover:bg-white/40"></div>
        </a>

        <!-- Offline Maps -->
        <a href="#tab-maps" class="group block">
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9 20l-5-2V6l5 2 6-2 5 2v12l-5-2-6 2z"></path>
              </svg>
            </div>

            <h3 class="text-2xl font-semibold tracking-tight sm:text-3xl">
              Offline Maps
            </h3>
          </div>

          <p
            class="mt-3 max-w-sm text-base text-zinc-400 group-hover:text-zinc-300"
          >
            Location sharing without external servers.
          </p>

          <div class="mt-4 h-px w-16 bg-white/20 group-hover:bg-white/40"></div>
        </a>
      </div>

      <div class="mt-10 space-y-14">
        <!-- Messaging -->
        <div id="tab-messaging" class="scroll-mt-24">
          <div
            class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"
          >
            <div class="max-w-2xl">
              <div class="flex items-center gap-3">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
                >
                  <svg
                    class="h-5 w-5 text-zinc-300"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M8 10h8m-8 4h5m9-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <h3 class="text-2xl font-semibold tracking-tight">Messaging without servers</h3>
              </div>

              <p class="mt-3 max-w-3xl text-base text-zinc-400">
                Encrypted communication designed for hostile networks — online over Tor
                or fully offline over local transports.
              </p>

              <div class="mt-6 grid gap-4 sm:grid-cols-2">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">No servers</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    No central infrastructure to seize, log, or subpoena.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Tor (online)</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Route communication through Tor, with bridges when blocked.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Offline modes</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Wi-Fi, Bluetooth, and external storage support when the
                    network is the threat.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Voice + distortion</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Voice messages with optional dynamic distortion to reduce
                    identification risk.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Walkie-Talkie</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Push-to-talk voice via the volume button. Hold to record,
                    release to send, auto-play incoming.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Groups</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Private and open groups with full media support — text,
                    images, voice, and location sharing.
                  </p>
                </div>
              </div>

              <div class="mt-6">
                <a
                  href="/docs/features/connectivity"
                  class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
                >
                  Learn how Anonomi communicates in hostile environments
                  <span aria-hidden="true">→</span>
                </a>
              </div>
            </div>
            <div class="w-full max-w-md flex justify-center">
              <div class="w-[320px] h-[420px] flex items-center justify-center">
                <img
                  src="/screenshots/messaging.png"
                  alt="Anonomi messaging interface"
                  loading="lazy"
                  class="h-full w-full rounded-xl border border-white/10 object-contain"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Payments -->
        <div id="tab-payments" class="scroll-mt-24">
          <div
            class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"
          >
            <div class="max-w-2xl">
              <div class="flex items-center gap-3">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
                >
                  <svg
                    class="h-5 w-5 text-zinc-300"
                    viewBox="0 0 16 16"
                    fill="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      d="M11.28774193548387 12.046451612903226h3.426838709677419
                      C13.34258064516129 14.31941935483871 10.848322580645162 15.84 8 15.84
                      S2.6574193548387095 14.31941935483871 1.2854193548387096 12.046451612903226
                      H4.71225806451613V8.006322580645161L8 11.319354838709677
                      11.28774193548387 8v4.046451612903225ZM2.9419354838709677 10.529032258064515
                      V3.9535483870967743l5.039096774193548 5.039096774193548
                      L13.058064516129033 3.9535483870967743V10.529032258064515
                      h2.3646451612903228c0.2687096774193548 -0.7934838709677419
                      0.41729032258064513 -1.6438709677419354
                      0.41729032258064513 -2.5290322580645164
                      C15.84 3.669032258064516 12.330967741935483 0.16 8 0.16
                      S0.16 3.669032258064516 0.16 8
                      c0 0.8851612903225806 0.14541935483870969 1.735548387096774
                      0.41729032258064513 2.5290322580645164H2.9419354838709677Z"
                    ></path>
                  </svg>
                </div>
                <h3 class="text-2xl font-semibold tracking-tight">Private Payments</h3>
              </div>

              <p class="mt-3 max-w-3xl text-base text-zinc-400">
                Monero payment requests designed to avoid leaking wallet
                metadata through unsafe channels.
              </p>

              <div class="mt-6 grid gap-4 sm:grid-cols-2">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">In-chat requests</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Request a payment inside the conversation.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Unique subaddress</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Generate a dedicated subaddress per request to avoid
                    persistent identifiers.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">QR handoff</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Send a QR with subaddress + amount + description for scanning
                    in a wallet app.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Metadata discipline</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Avoid sharing payment details through insecure channels.
                  </p>
                </div>
              </div>

              <div class="mt-6">
                <a
                  href="/docs/features/monero"
                  class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
                >
                  See how private Monero payment requests work
                  <span aria-hidden="true">→</span>
                </a>
              </div>
            </div>
            <div class="w-full max-w-md flex justify-center">
              <div class="w-[320px] h-[420px] flex items-center justify-center">
                <img
                  src="/screenshots/xmrrequest.png"
                  alt="Anonomi Monero payment request"
                  loading="lazy"
                  class="h-full w-full rounded-xl border border-white/10 object-contain"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Offline Maps -->
        <div id="tab-maps" class="scroll-mt-24">
          <div
            class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"
          >
            <div class="max-w-2xl">
              <div class="flex items-center gap-3">
                <div
                  class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
                >
                  <svg
                    class="h-5 w-5 text-zinc-300"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 20l-5-2V6l5 2 6-2 5 2v12l-5-2-6 2z"></path>
                  </svg>
                </div>
                <h3 class="text-2xl font-semibold tracking-tight">Offline Maps & Location Sharing</h3>
              </div>

              <p class="mt-3 max-w-3xl text-base text-zinc-400">
                Share locations without contacting external map servers. Import
                tile packs for offline navigation.
              </p>

              <div class="mt-6 grid gap-4 sm:grid-cols-2">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">No external map calls</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Designed to avoid third-party map providers.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Offline tile imports</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Import trusted tile packs for fully offline usage.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Secure location sharing</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Send coordinates to contacts without server round-trips.
                  </p>
                </div>
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">Community distribution</div>
                  <p class="mt-2 text-sm text-zinc-400">
                    Tile packs can be shared via trusted sources (onion/community
                    mirrors).
                  </p>
                </div>
              </div>

              <!-- Maps Exporter callout -->
              <div class="mt-6 rounded-2xl border border-white/10 bg-white/5 p-4">
                <div
                  class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"
                >
                  <div class="max-w-xl">
                    <div class="text-sm font-semibold text-zinc-200">
                      Maps Exporter
                    </div>
                    <p class="mt-1 text-sm text-zinc-400">
                      Generate offline tile packs locally in your browser. Tile
                      sources are only contacted after explicit user selection.
                    </p>
                  </div>

                  <a
                    href="/maps"
                    class="inline-flex items-center justify-center rounded-xl bg-white/10 px-4 py-2 text-sm font-medium text-zinc-200 ring-1 ring-white/10 hover:bg-white/15"
                  >
                    Open Maps Exporter →
                  </a>
                </div>

                <div class="mt-4">
                  <a
                    href="/docs/maps-exporter"
                    class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
                  >
                    Learn how offline tile exports work
                    <span aria-hidden="true">→</span>
                  </a>
                </div>
              </div>

              <div class="mt-6">
                <a
                  href="/docs/features/maps"
                  class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
                >
                  Explore offline maps and secure location sharing
                  <span aria-hidden="true">→</span>
                </a>
              </div>
            </div>
            <div class="w-full max-w-md flex justify-center">
              <div class="w-[320px] h-[420px] flex items-center justify-center">
                <img
                  src="/screenshots/offlinemaps.png"
                  alt="Anonomi Offline Maps"
                  loading="lazy"
                  class="h-full w-full rounded-xl border border-white/10 object-contain"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MODES -->
    <section id="modes" class="mt-24 scroll-mt-24">
      <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">
        Works online or offline
      </h2>
      <p class="mt-4 max-w-3xl text-base text-zinc-400 sm:text-lg">
        Different environments require different paths. Anonomi supports
        multiple transports — and a fully offline way to share the app.
      </p>

      <div class="mt-10 space-y-14">
        <!-- Transports -->
        <div>
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M7.5 12h9m-9 0a4.5 4.5 0 119 0m-9 0a4.5 4.5 0 009 0M4.5 12a7.5 7.5 0 1115 0 7.5 7.5 0 01-15 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-semibold tracking-tight">Transports</h3>
          </div>

          <p class="mt-3 max-w-3xl text-base text-zinc-400">
            Choose the best path for the situation: Tor when the internet is
            usable, local links when the internet is the threat.
          </p>

          <div class="mt-6 grid gap-4 sm:grid-cols-2">
            {
              [
                [
                  "Tor (online)",
                  "Secure and anonymized routing over the internet. Bridges when Tor is blocked.",
                ],
                [
                  "Wi-Fi (offline)",
                  "Communicate inside a local network with no traffic leaving the area.",
                ],
                [
                  "Bluetooth (offline)",
                  "Proximity comms for situations without internet or Wi-Fi infrastructure.",
                ],
                [
                  "External storage",
                  "Store-and-forward via SD card or file transfer for checkpoints and border crossings.",
                ],
              ].map(([t, d]) => (
                <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
                  <div class="text-base font-semibold">{t}</div>
                  <p class="mt-2 text-sm text-zinc-400">{d}</p>
                </div>
              ))
            }
          </div>

          <div class="mt-6">
            <a
              href="/docs/usage/scenarios"
              class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
            >
              Explore real-world scenarios and transport tradeoffs
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>

        <!-- Offline distribution -->
        <div>
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 3v12m0 0l-3-3m3 3l3-3M5.25 21h13.5a1.5 1.5 0 001.5-1.5v-3.75a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5V19.5a1.5 1.5 0 001.5 1.5z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-semibold tracking-tight">
              Offline distribution
            </h3>
          </div>

          <p class="mt-3 max-w-3xl text-base text-zinc-400">
            <strong class="font-medium text-zinc-300"
              >Install without app stores.</strong
            >
            Anonomi can be shared directly between Android devices using local connections,
            even when the internet is unavailable, monitored, or unsafe.
          </p>

          <div class="mt-6">
            <a
              href="/docs/features/distribution"
              class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
            >
              Read how offline distribution works
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>
        <!-- Anonomi Postbox -->
        <div>
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21.75 9v.906a2.25 2.25 0 0 1-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 0 0 1.183 1.981l6.478 3.488m8.839 2.51-4.66-2.51m0 0-1.023-.55a2.25 2.25 0 0 0-2.134 0l-1.022.55m0 0-4.661 2.51m16.5 1.615a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V8.844a2.25 2.25 0 0 1 1.183-1.981l7.5-4.039a2.25 2.25 0 0 1 2.134 0l7.5 4.039a2.25 2.25 0 0 1 1.183 1.98V19.5Z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-semibold tracking-tight">
              Anonomi Postbox
            </h3>
          </div>

          <p class="mt-3 max-w-3xl text-base text-zinc-400">
            <strong class="font-medium text-zinc-300">Receive messages while your main device is offline.</strong>
            Anonomi Postbox is a companion app installed on a separate Android device.
            It stays online and collects encrypted messages on your behalf, then delivers
            them automatically when your main device reconnects.
          </p>

          <div class="mt-6 grid gap-4 sm:grid-cols-2">
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">Store-and-forward</div>
              <p class="mt-2 text-sm text-zinc-400">
                Messages arrive at the Postbox while you are offline and are
                delivered when your main device comes back online.
              </p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">End-to-end encrypted</div>
              <p class="mt-2 text-sm text-zinc-400">
                The Postbox cannot read your messages. It only stores and
                forwards encrypted data.
              </p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">QR pairing</div>
              <p class="mt-2 text-sm text-zinc-400">
                Link a Postbox to your account by scanning a QR code. No
                accounts, servers, or cloud services involved.
              </p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">Optional by design</div>
              <p class="mt-2 text-sm text-zinc-400">
                Anonomi works without a Postbox. Use it only if asynchronous
                delivery fits your threat model.
              </p>
            </div>
          </div>

          <div class="mt-6">
            <a
              href="/docs/usage/settings/postbox"
              class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
            >
              Learn how Anonomi Postbox works
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>
      </div>
    </section>
    <!-- SAFETY UNDER COERCION -->
    <section id="safety" class="mt-24 scroll-mt-24">
      <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">
        Safety under coercion
      </h2>

      <p class="mt-4 max-w-3xl text-base text-zinc-400 sm:text-lg">
        When physical access to your device is the threat, Anonomi Messenger provides
        tools to act fast — erase data, alert trusted contacts, or hide the
        app entirely.
      </p>

      <div class="mt-10 space-y-14">
        <!-- Panic button -->
        <div>
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-semibold tracking-tight">Panic button</h3>
          </div>

          <p class="mt-3 max-w-3xl text-base text-zinc-400">
            A last-resort mechanism triggered by a
            <strong class="font-medium text-zinc-300">custom volume button sequence</strong>
            that you define. The trigger works across all screens — including the stealth
            calculator — with no need to navigate the app.
          </p>

          <div class="mt-6 grid gap-4 sm:grid-cols-3">
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">Custom trigger</div>
              <p class="mt-2 text-sm text-zinc-400">
                Define a personal sequence of short and long volume presses.
                Only you know the pattern.
              </p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">Panic options</div>
              <p class="mt-2 text-sm text-zinc-400">
                Choose what happens when triggered: sign out, delete your account,
                or show a choice dialog at the moment of activation.
              </p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div class="text-base font-semibold">Panic contacts</div>
              <p class="mt-2 text-sm text-zinc-400">
                Designate trusted contacts who automatically receive a panic alert
                when the sequence is triggered.
              </p>
            </div>
          </div>

          <div class="mt-6">
            <a
              href="/docs/features/panic"
              class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
            >
              Learn how the panic button works
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>

        <!-- Stealth mode -->
        <div>
          <div class="flex items-center gap-3">
            <div
              class="flex h-10 w-10 items-center justify-center rounded-xl border border-white/10 bg-white/5"
            >
              <svg
                class="h-5 w-5 text-zinc-300"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12c1.292 4.338 5.31 7.5 10.066 7.5.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"
                ></path>
              </svg>
            </div>
            <h3 class="text-2xl font-semibold tracking-tight">Stealth mode</h3>
          </div>

          <p class="mt-3 max-w-3xl text-base text-zinc-400">
            <strong class="font-medium text-zinc-300">Hide Anonomi behind a calculator.</strong>
            When stealth mode is enabled, the app disguises itself as a
            functional calculator. A hidden interaction unlocks the real
            interface.
          </p>

          <div class="mt-6">
            <a
              href="/docs/features/stealth"
              class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
            >
              Read how stealth mode works
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- THREAT MODEL -->
    <section id="threat-model" class="mt-24 scroll-mt-24">
      <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">
        Threat model (pragmatic)
      </h2>
      <p class="mt-4 max-w-3xl text-base text-zinc-400 sm:text-lg">
        Anonomi assumes that in serious cases: network traffic is monitored and
        contacts may eventually be compromised.
      </p>

      <div class="mt-8 grid gap-4 sm:grid-cols-2">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <div class="text-base font-semibold">Assumptions</div>
          <ul class="mt-3 space-y-2 text-sm text-zinc-400">
            <li>• Traffic from/to the device may be monitored.</li>
            <li>• Blocking and manipulation may occur.</li>
            <li>• Contacts may be compromised over time.</li>
            <li>• Physical inspection is a realistic risk.</li>
          </ul>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <div class="text-base font-semibold">Design goals</div>
          <ul class="mt-3 space-y-2 text-sm text-zinc-400">
            <li>
              • Avoid centralized servers that can be seized or subpoenaed.
            </li>
            <li>• Provide offline options when networks are unsafe.</li>
            <li>• Reduce metadata leakage in everyday workflows.</li>
            <li>• Offer safety tools for coercive scenarios.</li>
          </ul>
        </div>
      </div>
      <div class="mt-8">
        <a
          href="/docs/security/threat-model"
          class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
        >
          Read the full threat model and design assumptions
          <span aria-hidden="true">→</span>
        </a>
      </div>
    </section>

    <!-- DOWNLOAD -->
    <section id="download" class="mt-24 scroll-mt-24">
      <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">
        Download Anonomi Messenger
      </h2>

      <p class="mt-4 max-w-3xl text-base text-zinc-400 sm:text-lg">
        Anonomi is currently available for Android. Distribution is
        intentionally conservative: releases are signed, verifiable, and
        designed to be shared even without access to app stores.
      </p>

      <div class="mt-10 grid gap-4 sm:grid-cols-2">
        <!-- Anonomi Messenger -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <div class="text-base font-semibold">Anonomi Messenger</div>
          <p class="mt-2 text-sm text-zinc-400">
            The main app. Decentralized messaging over Tor or offline transports,
            with private payments, offline maps, and safety tools built in.
          </p>

          <div class="mt-6">
            <a
              href="http://yexg75vnfxe2q6yygn7csmqdx5mtwmvhrqpboopisvjqz7haras3skid.onion/anonomi/anonomi-android/releases/latest"
              data-clearnet-href="https://github.com/anonomi-org/anonomi-android/releases/latest"
              target="_blank"
              rel="noreferrer"
              class="inline-flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/10 hover:bg-white/15"
            >
              <span data-clearnet-text="Download Anonomi Messenger"
                >Download Anonomi Messenger</span
              >
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>

        <!-- Anonomi Postbox -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <div class="text-base font-semibold">Anonomi Postbox</div>
          <p class="mt-2 text-sm text-zinc-400">
            Companion app for asynchronous message delivery. Install on a
            separate device to receive messages while your main phone is offline.
          </p>

          <div class="mt-6">
            <a
              href="http://yexg75vnfxe2q6yygn7csmqdx5mtwmvhrqpboopisvjqz7haras3skid.onion/anonomi/anonomi-postbox/releases/latest"
              data-clearnet-href="https://github.com/anonomi-org/anonomi-postbox/releases/latest"
              target="_blank"
              rel="noreferrer"
              class="inline-flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/10 hover:bg-white/15"
            >
              <span data-clearnet-text="Download Anonomi Postbox"
                >Download Anonomi Postbox</span
              >
              <span aria-hidden="true">→</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Verification -->
      <div class="mt-6 flex flex-col gap-2 text-sm">
        <p class="text-zinc-500">
          Releases are signed and published with checksums.
          In high-risk environments, always verify before installing.
        </p>
        <div class="flex flex-wrap gap-x-6 gap-y-1">
          <a
            href="/docs/verify"
            class="inline-flex items-center gap-2 font-medium text-zinc-300 hover:text-white"
          >
            Learn how to verify Anonomi
            <span aria-hidden="true">→</span>
          </a>
          <a
            href="/docs/features/distribution#app-catalog-offline-kit"
            class="inline-flex items-center gap-2 font-medium text-zinc-300 hover:text-white"
          >
            Why is the APK so large?
            <span aria-hidden="true">→</span>
          </a>
        </div>
      </div>

      <p class="mt-8 max-w-3xl text-sm text-zinc-500">
        No Google Play, no trackers, no silent updates. Anonomi is distributed
        outside centralized app stores by design.
      </p>
      <div class="mt-10 max-w-3xl">
        <div class="text-base font-semibold">About iOS support</div>
        <p class="mt-2 text-sm text-zinc-400">
          Anonomi is Android-only. iOS imposes architectural and policy
          constraints that prevent providing the level of privacy, network
          control, and offline operation required by Anonomi’s threat model.
          Supporting iOS would mean compromising on guarantees this project is
          not willing to weaken.
        </p>

        <div class="mt-3">
          <a
            href="/docs/ios"
            class="inline-flex items-center gap-2 text-sm font-medium text-zinc-300 hover:text-white"
          >
            Read why Anonomi will never support iOS
            <span aria-hidden="true">→</span>
          </a>
        </div>
      </div>
    </section>

    <footer class="mt-16 border-t border-white/10 pt-10 text-sm text-zinc-500">
      <div class="mx-auto max-w-6xl px-6">
        <!-- Row 1: URLs -->
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
          <div>
            <div class="text-xs font-semibold tracking-wide text-zinc-300">
              Onion Website
            </div>
            <div class="mt-1 font-mono text-[11px] text-zinc-400 break-all">
              http://ucvmhctoq76k6qrdrvblxspjpk5rpjutsfe6nxyhgmvx25vruohxrnqd.onion/
            </div>
          </div>

          <div>
            <div class="text-xs font-semibold tracking-wide text-zinc-300">
              Onion Code Repository
            </div>
            <div class="mt-1 font-mono text-[11px] text-zinc-400 break-all">
              http://yexg75vnfxe2q6yygn7csmqdx5mtwmvhrqpboopisvjqz7haras3skid.onion/anonomi
              (mirror)
            </div>
          </div>

          <div>
            <div class="text-xs font-semibold tracking-wide text-zinc-300">
              ClearNet Website
            </div>
            <div class="mt-1 font-mono text-[11px] text-zinc-400 break-all">
              https://anonomi.org
            </div>
          </div>

          <div>
            <div class="text-xs font-semibold tracking-wide text-zinc-300">
              ClearNet Code Repository
            </div>
            <div class="mt-1 font-mono text-[11px] text-zinc-400 break-all">
              https://github.com/anonomi-org
            </div>
            <div class="mt-1 font-mono text-[11px] text-zinc-400 break-all">
              https://codeberg.org/Anonomi (mirror)
            </div>
          </div>
        </div>

        <div
          class="mt-6 border-t border-white/10 pt-4 text-zinc-500 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"
        >
          <div>
            © {new Date().getFullYear()} Anonomi • No trackers • No analytics • No
            cookies
          </div>
          <div class="flex items-center gap-5">
            <!-- Bluesky -->
            <a
              href="https://bsky.app/profile/anonomi.org"
              target="_blank"
              rel="noreferrer"
              title="Anonomi on Bluesky"
              aria-label="Anonomi on Bluesky"
              class="text-zinc-400 hover:text-white transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 256 256"
                class="h-7 w-7"
                aria-hidden="true"
              >
                <g
                  transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"
                >
                  <path
                    d="M45 90C20.147 90 0 69.853 0 45 0 20.147 20.147 0 45 0
                    c24.853 0 45 20.147 45 45
                    0 24.853-20.147 45-45 45z"
                    fill="currentColor"></path>
                  <path
                    d="M29.977 25.793C36.058 30.358 42.599 39.615 45 44.582
                    c2.402-4.967 8.942-14.224 15.023-18.789
                    4.388-3.294 11.497-5.843 11.497 2.267
                    0 1.62-.929 13.607-1.473 15.553
                    -1.893 6.766-8.792 8.491-14.929 7.447
                    10.727 1.826 13.456 7.873 7.562 13.92
                    -11.192 11.485-16.087-2.882-17.341-6.563
                    -.23-.675-.337-.991-.339-.722
                    -.002-.268-.109.047-.339.722
                    -1.254 3.681-6.148 18.048-17.341 6.563
                    -5.893-6.047-3.165-12.095 7.562-13.92
                    -6.137 1.044-13.036-.681-14.929-7.447
                    -.545-1.946-1.473-13.933-1.473-15.553
                    0-8.11 7.109-5.561 11.497-2.267z"
                    fill="black"></path>
                </g>
              </svg>
            </a>

            <!-- GitHub -->
            <a
              href="https://github.com/anonomi-org"
              target="_blank"
              rel="noreferrer"
              title="Anonomi on GitHub"
              aria-label="Anonomi on GitHub"
              class="text-zinc-400 hover:text-white transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                class="h-[2rem] w-[2rem]"
                fill="currentColor"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M12 2C6.48 2 2 6.58 2 12.26
                c0 4.5 2.87 8.32 6.84 9.67
                .5.1.68-.22.68-.48
                0-.24-.01-.87-.01-1.7
                -2.78.62-3.37-1.38-3.37-1.38
                -.45-1.18-1.11-1.5-1.11-1.5
                -.91-.64.07-.63.07-.63
                1 .07 1.53 1.05 1.53 1.05
                .9 1.58 2.36 1.12 2.94.85
                .09-.67.35-1.12.64-1.38
                -2.22-.26-4.56-1.14-4.56-5.06
                0-1.12.39-2.03 1.03-2.75
                -.1-.26-.45-1.3.1-2.71
                0 0 .84-.28 2.75 1.05
                .8-.23 1.65-.35 2.5-.35
                .85 0 1.7.12 2.5.35
                1.9-1.33 2.75-1.05 2.75-1.05
                .55 1.41.2 2.45.1 2.71
                .64.72 1.03 1.63 1.03 2.75
                0 3.93-2.34 4.8-4.57 5.05
                .36.32.68.94.68 1.9
                0 1.37-.01 2.47-.01 2.81
                0 .26.18.58.69.48
                A10.03 10.03 0 0022 12.26
                C22 6.58 17.52 2 12 2z"
                  clip-rule="evenodd"></path>
              </svg>
            </a>

            <!-- Build -->
            <div class="font-mono text-[11px] text-zinc-500">
              Build:
              <a href={COMMIT_URL} data-clearnet-href={CLEARNET_COMMIT_URL} class="text-zinc-300 hover:text-white">
                {BUILD_SHORT}
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </main>
</Layout>
